<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Ken Oung Yong Quan" />
  <meta name="date" content="2016-07-23" />
  <title>Introductory Data Munging in R</title>
  <style type="text/css">code{white-space: pre;}</style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  
  <!-- bootstrap -->
  <!--<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet"  id="style">-->
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  
  <!-- highlight.js -->
  <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" rel="stylesheet" id="code-style">-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script>
  hljs.LANGUAGES.r=function(a){var b="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[a.HCM,{b:b,l:b,k:{keyword:"function if in break next repeat else for return switch while try tryCatch|10 stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...|10",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[a.BE],r:0},{cN:"string",b:"'",e:"'",c:[a.BE],r:0}]}}(hljs); </script>
  <!--<script type="text/javascript", src="https://yandex.st/highlightjs/7.3/languages/r.min.js"></script>-->
  
  <!-- Manific Popup -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/0.8.9/jquery.magnific-popup.min.js"></script>
  
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script defer="defer">
  // Function to generate the dynamic table of contents
  jQuery.fn.generate_TOC = function () {
    var base = $(this[0]);
  
    var selectors = ['h1', 'h2', 'h3', 'h4'];
  
    var last_ptr = [{}, {}, {}, {}];
  
    var anchors = {};
  
    generate_anchor = function (text) {
      var test = text.replace(/\W/g, '_');
  
      while(test in anchors){
        //if no suffix, add one
        if(test.match(/_\d+$/) === null){
          test = test + "_2";
        }
        //else generate unique id for duplicates by adding one to the suffix
        else {
          test = test.replace(/_(\d+)$/, function(match, number){ var num=+number+1; return("_" + num) });
        }
      }
      anchors[test]=1;
      return(test);
    }
  
    $(selectors.join(',')).filter(function(index) { return $(this).parent().attr("id") != 'header'; }).each(function () {
  
      var heading = $(this);
      var idx = selectors.indexOf(heading.prop('tagName').toLowerCase());
      var itr = 0;
  
      while (itr <= idx) {
        if (jQuery.isEmptyObject(last_ptr[itr])) {
          last_ptr[itr] = $('<ul>').addClass('nav');
          if (itr === 0) {
            base.append(last_ptr[itr])
          } else {
            if(last_ptr[itr-1].children('li').length === 0){
              last_ptr[itr-1].append(last_ptr[itr]);
            }
            else {
              last_ptr[itr - 1].children('li').last().append(last_ptr[itr]);
            }
          }
        }
        itr++;
      }
      var anchor = generate_anchor(heading.text());
      heading.attr('id', anchor);
      var a = $('<a>')
      .text(heading.text())
      .attr('href', '#' + anchor);
  
    var li = $('<li>')
      .append(a);
  
    last_ptr[idx].append(li);
    for (i = idx + 1; i < last_ptr.length; i++) {
      last_ptr[i] = {};
    }
    });
  }
  /* run scripts when document is ready */
  $(function() {
    "use strict";
  
    var $window = $(window);
    var $body = $(document.body);
  
    /* size of thumbnails */
  
    var hidden_types = ['source']
    var output_types = ['output', 'message', 'warning', 'error']
  
    /* style tables */
    $('table').addClass('table table-striped table-bordered table-hover table-condensed');
  
    $('pre code').each(function(i, e) {
      hljs.highlightBlock(e);
    });
  
    /* Magnific Popup */
    $(".thumbnail").each(function(){
      $(this).magnificPopup({
        disableOn: 768,
        closeOnContentClick: true,
  
        type: 'image',
        items: {
          src: $(this).find('img').attr('src'),
        }
      });
    });
  
    function toggle_block(obj, show) {
      var span = obj.find('span');
      if(show === true){
        span.removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        obj.next('pre').slideDown();
      }
      else {
        span.removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        obj.next('pre').slideUp();
      }
    }
  
    function toggle_thumbnails(imgs, show){
      if(show === true){
        imgs.parents().show()
        imgs.slideDown();
      }
      else {
        imgs.slideUp(400, function(){ $(this).parent().hide(); });
      }
    }
  
    function global_toggle(obj){
      var type = obj.attr('type');
      var show = !obj.parent('li').hasClass('active');
      if(show === true){
        obj.parent('li').addClass('active');
      }
      else{
        obj.parent('li').removeClass('active');
      }
      if(type == 'figure'){
        toggle_thumbnails($('.thumbnail img'), show);
      }
      else {
        $('.toggle.' + type).each(function() { toggle_block($(this), show); });
      }
    }
  
    /* onclick toggle next code block */
    $('.toggle').click(function() {
      var span = $(this).find('span');
      toggle_block($(this), !span.hasClass('glyphicon-chevron-down'));
      return false
    })
  
    // global toggles
    $('.toggle-global').click(function(){
      var type = $(this).attr('type');
      if(type === 'all-source'){
          $('li a.source').each(function() {
            global_toggle($(this));
          });
        }
      else if(type === 'all-output'){
        $.each(output_types, function(i, val){
          console.log(val);
          global_toggle($('li a.' + val));
        });
      }
      else {
        console.log($(this));
        global_toggle($(this));
      }
      return false;
    });
    /* table of contents */
    if($(['h1', 'h2', 'h3', 'h4'].join(',')).length > 0){
      $('body > #wrap > .container > .row').append('<div class="col-md-2"><div id="toc" class="well sidebar sidenav affix hidden-print"/></div>');
      $('#toc').generate_TOC();
    }
  
    $.each(hidden_types, function(i, type) {
      $('li[type=' + type + ']').each(function(){ global_toggle($(this)); });
    });
  
    /* remove paragraphs with no content */
    $('p:empty').remove();
  
    $body.scrollspy({
      target: '.sidebar',
    });
  
    /* theme switch */
    $('.theme-switch').click(function(){
      var css = $('link[title=' + $(this).attr('title') + ']');
      $('#theme[rel=stylesheet]').attr('href', css.attr('href'));
      $('.theme-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
    /* code style switch */ //TODO use same function for both of these?
    $('.highlight-switch').click(function(){
      var css = $('link[title="' + $(this).attr('title') + '"]');
      $('#highlight[rel=stylesheet]').attr('href', css.attr('href'));
      $('.highlight-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
  
    //TODO refresh on show/hide
    $window.on('load', function () {
      $body.scrollspy('refresh');
    })
  
  });
  
  </script>
  <style>
  /* Knitr_bootstrap styles */
  #header {
    display: none !important;
    visibility: hidden !important;
  }
  #wrap .container-fluid {
    padding: 0;
    overflow: hidden;
  }
  .toggle{
    text-transform: capitalize;
  }
  
  .toggle-global{
    text-transform: capitalize;
  }
  
  /* Sticky footer styles */
  * {
    margin:0;
  }
  html,
  body {
      height: 100%;
      padding:0 !important;
      /* The html and body elements cannot have any padding or margin. */
      /*overflow-x: hidden;*/
  }
  
  /* Wrapper for page content to push down footer */
  #wrap {
      min-height: 100%;
      height: auto !important;
      height: 100%;
      /* Negative indent footer by it's height */
      margin: 0 auto -120px;
  }
  
  /* Set the fixed height of the footer here */
  #push,
  #footer {
      height: 120px;
  }
  
  #footer {
    text-align: center;
  }
  
  /* Top level subheader elements.  These are the first nested items underneath a header element. */
  .header li {
    font-size: 20px;
  }
  
  /* Makes the font smaller for all subheader elements. */
  .sub-header li {
      font-size: 12px;
  }
  
  button.thumbnails {
    margin-left:0px;
  }
  
  /*
   * Side navigation
   *
   * Scrollspy and affixed enhanced navigation to highlight sections and secondary
   * sections of docs content.
   */
  
  /* By default it's not affixed in mobile views, so undo that */
  .sidebar.affix {
    position: static;
  }
  
  /* First level of nav */
  .sidenav {
    margin-top: 30px;
    margin-bottom: 30px;
    padding-top:    10px;
    padding-bottom: 10px;
    border-radius: 5px;
  }
  
  /* All levels of nav */
  .sidebar .nav > li > a {
    display: block;
    padding: 5px 20px;
  }
  .sidebar .nav > li > a:hover,
  .sidebar .nav > li > a:focus {
    text-decoration: none;
    border-right: 1px solid;
  }
  .sidebar .nav > .active > a,
  .sidebar .nav > .active:hover > a,
  .sidebar .nav > .active:focus > a {
    font-weight: bold;
    background-color: transparent;
    border-right: 1px solid;
  }
  
  /* Nav: second level (shown on .active) */
  .sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    margin-bottom: 8px;
  }
  .sidebar .nav .nav > li > a {
    padding-top:    3px;
    padding-bottom: 3px;
    padding-left: 30px;
    font-size: 90%;
  }
  
  .sidebar .nav .nav .nav > li > a {
    padding-left: 40px;
  }
  .sidebar .nav .nav .nav .nav > li > a {
    padding-left: 50px;
  }
  
  /* Show and affix the side nav when space allows it */
  @media screen and (min-width: 992px) {
    .sidebar .nav > .active > ul {
      display: block;
    }
    /* Widen the fixed sidebar */
    .sidebar.affix,
    .sidebar.affix-bottom {
      width: 213px;
    }
    .sidebar.affix-top,
    .sidebar.affix {
      position: fixed; /* Undo the static from mobile first approach */
      top: 30px;
    }
    .sidebar.affix-bottom {
      position: absolute; /* Undo the static from mobile first approach */
    }
    .sidebar.affix-bottom .sidenav,
    .sidebar.affix .sidenav {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  @media screen and (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .sidebar.affix-bottom,
    .sidebar.affix {
      width: 263px;
    }
  }
  
  #toc {
    padding: 10px 0px;
    margin:0;
    border:0;
  }
  
  
  .panel pre {
    margin: 0;
    padding: 0;
    border: 0;
  }
  button + pre {
    margin: 0;
    padding: 0;
  }
  pre code {
    border-radius: 0;
  }
  /* Magnific Popup CSS */
  .mfp-bg {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1042;
    overflow: hidden;
    position: fixed;
    background: #0b0b0b;
    opacity: 0.8;
    filter: alpha(opacity=80); }
  
  .mfp-wrap {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1043;
    position: fixed;
    outline: none !important;
    -webkit-backface-visibility: hidden; }
  
  .mfp-container {
    text-align: center;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    padding: 0 8px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box; }
  
  .mfp-container:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle; }
  
  .mfp-align-top .mfp-container:before {
    display: none; }
  
  .mfp-content {
    position: relative;
    display: inline-block;
    vertical-align: middle;
    margin: 0 auto;
    text-align: left;
    z-index: 1045; }
  
  .mfp-inline-holder .mfp-content,
  .mfp-ajax-holder .mfp-content {
    width: 100%;
    cursor: auto; }
  
  .mfp-ajax-cur {
    cursor: progress; }
  
  .mfp-zoom-out-cur,
  .mfp-zoom-out-cur .mfp-image-holder .mfp-close {
    cursor: -moz-zoom-out;
    cursor: -webkit-zoom-out;
    cursor: zoom-out; }
  
  .mfp-zoom {
    cursor: pointer;
    cursor: -webkit-zoom-in;
    cursor: -moz-zoom-in;
    cursor: zoom-in; }
  
  .mfp-auto-cursor .mfp-content {
    cursor: auto; }
  
  .mfp-close,
  .mfp-arrow,
  .mfp-preloader,
  .mfp-counter {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none; }
  
  .mfp-loading.mfp-figure {
    display: none; }
  
  .mfp-hide {
    display: none !important; }
  
  .mfp-preloader {
    color: #cccccc;
    position: absolute;
    top: 50%;
    width: auto;
    text-align: center;
    margin-top: -0.8em;
    left: 8px;
    right: 8px;
    z-index: 1044; }
  
  .mfp-preloader a {
    color: #cccccc; }
  
  .mfp-preloader a:hover {
    color: white; }
  
  .mfp-s-ready .mfp-preloader {
    display: none; }
  
  .mfp-s-error .mfp-content {
    display: none; }
  
  button.mfp-close,
  button.mfp-arrow {
    overflow: visible;
    cursor: pointer;
    background: transparent;
    border: 0;
    -webkit-appearance: none;
    display: block;
    padding: 0;
    z-index: 1046;
    -webkit-box-shadow: none;
    box-shadow: none; }
  
  button::-moz-focus-inner {
    padding: 0;
    border: 0; }
  
  .mfp-close {
    width: 44px;
    height: 44px;
    line-height: 44px;
    position: absolute;
    right: 0;
    top: 0;
    text-decoration: none;
    text-align: center;
    opacity: 0.65;
    padding: 0 0 18px 10px;
    color: white;
    font-style: normal;
    font-size: 28px;
    font-family: Arial, Baskerville, monospace; }
    .mfp-close:hover, .mfp-close:focus {
      opacity: 1; }
    .mfp-close:active {
      top: 1px; }
  
  .mfp-close-btn-in .mfp-close {
    color: #333333; }
  
  .mfp-image-holder .mfp-close,
  .mfp-iframe-holder .mfp-close {
    color: white;
    right: -6px;
    text-align: right;
    padding-right: 6px;
    width: 100%; }
  
  .mfp-counter {
    position: absolute;
    top: 0;
    right: 0;
    color: #cccccc;
    font-size: 12px;
    line-height: 18px; }
  
  .mfp-arrow {
    position: absolute;
    opacity: 0.65;
    margin: 0;
    top: 50%;
    margin-top: -55px;
    padding: 0;
    width: 90px;
    height: 110px;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }
  
  .mfp-arrow:active {
    margin-top: -54px; }
  
  .mfp-arrow:hover,
  .mfp-arrow:focus {
    opacity: 1; }
  
  .mfp-arrow:before, .mfp-arrow:after,
  .mfp-arrow .mfp-b,
  .mfp-arrow .mfp-a {
    content: '';
    display: block;
    width: 0;
    height: 0;
    position: absolute;
    left: 0;
    top: 0;
    margin-top: 35px;
    margin-left: 35px;
    border: medium inset transparent; }
  .mfp-arrow:after,
  .mfp-arrow .mfp-a {
    border-top-width: 13px;
    border-bottom-width: 13px;
    top: 8px; }
  .mfp-arrow:before,
  .mfp-arrow .mfp-b {
    border-top-width: 21px;
    border-bottom-width: 21px; }
  
  .mfp-arrow-left {
    left: 0; }
    .mfp-arrow-left:after,
    .mfp-arrow-left .mfp-a {
      border-right: 17px solid white;
      margin-left: 31px; }
    .mfp-arrow-left:before,
    .mfp-arrow-left .mfp-b {
      margin-left: 25px;
      border-right: 27px solid #3f3f3f; }
  
  .mfp-arrow-right {
    right: 0; }
    .mfp-arrow-right:after,
    .mfp-arrow-right .mfp-a {
      border-left: 17px solid white;
      margin-left: 39px; }
    .mfp-arrow-right:before,
    .mfp-arrow-right .mfp-b {
      border-left: 27px solid #3f3f3f; }
  
  .mfp-iframe-holder {
    padding-top: 40px;
    padding-bottom: 40px; }
  
  .mfp-iframe-holder .mfp-content {
    line-height: 0;
    width: 100%;
    max-width: 900px; }
  
  .mfp-iframe-scaler {
    width: 100%;
    height: 0;
    overflow: hidden;
    padding-top: 56.25%; }
  
  .mfp-iframe-scaler iframe {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: black; }
  
  .mfp-iframe-holder .mfp-close {
    top: -40px; }
  
  /* Main image in popup */
  img.mfp-img {
    width: auto;
    max-width: 100%;
    height: auto;
    display: block;
    line-height: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 40px 0 40px;
    margin: 0 auto; }
  
  /* The shadow behind the image */
  .mfp-figure:after {
    content: '';
    position: absolute;
    left: 0;
    top: 40px;
    bottom: 40px;
    display: block;
    right: 0;
    width: auto;
    height: auto;
    z-index: -1;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: #444444; }
  
  .mfp-figure {
    line-height: 0; }
  
  .mfp-bottom-bar {
    margin-top: -36px;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    cursor: auto; }
  
  .mfp-title {
    text-align: left;
    line-height: 18px;
    color: #f3f3f3;
    word-wrap: break-word;
    padding-right: 36px; }
  
  .mfp-figure small {
    color: #bdbdbd;
    display: block;
    font-size: 12px;
    line-height: 14px; }
  
  .mfp-image-holder .mfp-content {
    max-width: 100%; }
  
  .mfp-gallery .mfp-image-holder .mfp-figure {
    cursor: pointer; }
  
  @media screen and (max-width: 800px) and (orientation: landscape), screen and (max-height: 300px) {
    /**
     * Remove all paddings around the image on small screen
     */
    .mfp-img-mobile .mfp-image-holder {
      padding-left: 0;
      padding-right: 0; }
  
    .mfp-img-mobile img.mfp-img {
      padding: 0; }
  
    /* The shadow behind the image */
    .mfp-img-mobile .mfp-figure:after {
      top: 0;
      bottom: 0; }
  
    .mfp-img-mobile .mfp-bottom-bar {
      background: rgba(0, 0, 0, 0.6);
      bottom: 0;
      margin: 0;
      top: auto;
      padding: 3px 5px;
      position: fixed;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box; }
  
    .mfp-img-mobile .mfp-bottom-bar:empty {
      padding: 0; }
  
    .mfp-img-mobile .mfp-counter {
      right: 5px;
      top: 3px; }
  
    .mfp-img-mobile .mfp-close {
      top: 0;
      right: 0;
      width: 35px;
      height: 35px;
      line-height: 35px;
      background: rgba(0, 0, 0, 0.6);
      position: fixed;
      text-align: center;
      padding: 0; }
  
    .mfp-img-mobile .mfp-figure small {
      display: inline;
      margin-left: 5px; } }
  @media all and (max-width: 900px) {
    .mfp-arrow {
      -webkit-transform: scale(0.75);
      transform: scale(0.75); }
  
    .mfp-arrow-left {
      -webkit-transform-origin: 0;
      transform-origin: 0; }
  
    .mfp-arrow-right {
      -webkit-transform-origin: 100%;
      transform-origin: 100%; }
  
    .mfp-container {
      padding-left: 6px;
      padding-right: 6px; } }
  .mfp-ie7 .mfp-img {
    padding: 0; }
  .mfp-ie7 .mfp-bottom-bar {
    width: 600px;
    left: 50%;
    margin-left: -300px;
    margin-top: 5px;
    padding-bottom: 5px; }
  .mfp-ie7 .mfp-container {
    padding: 0; }
  .mfp-ie7 .mfp-content {
    padding-top: 44px; }
  .mfp-ie7 .mfp-close {
    top: 0;
    right: 0;
    padding-top: 0; }
  
  //Magnific overrides
  .mfp-image img{
    background: white;
  }
  .mfp-figure:after {
    background: white;
  }
  
  /*
   * Off Canvas navbar toggle right
   * --------------------------------------------------
   */
  
  @media screen and (max-width: 768px) {
    .row-offcanvas .collapsing {
    -webkit-transition: none 0;
      -moz-transition: none 0;
      transition: none 0;
    }
   .row-offcanvas .navbar {
    position: absolute;
    z-index: 2;
      right:0;
      height:100%;
      width:55px;
      border:0;
      background-color:transparent;
    }
    .row-offcanvas .navbar-toggle {
      margin-right: 5px;
      margin-left: 5px;
    }
    .row-offcanvas {
      position: relative;
    }
    .row-offcanvas-right.active .navbar {
    position: absolute;
    z-index: 2;
      right: -28.4%;
      width:40%;
      background-color:#eee;
      border:0 solid #ddd;
      border-left-width:1px;
    }
    .row-offcanvas-right.active {
      left: -30%;
    }
    .row-offcanvas-right.active .navbar-collapse {
      position: relative;
      width: 100%;
    }
    .row-offcanvas .content {
    /*width:calc(100% - 60px);*/
    }
  }
  </style>
</head>
<body>
<div id="header">
<h1 class="title">Introductory Data Munging in R</h1>
<h2 class="author">Ken Oung Yong Quan</h2>
<h3 class="date">23 July 2016</h3>
</div>
<title>
R Intro
</title>
<div id="wrap">
<div class="container">
<div class="row row-offcanvas row-offcanvas-right">
<div class="contents col-xs-12 col-md-10">
<h1>Introductory Data Munging in R</h1>
<h2>First things first: RStudio</h2>
<p>First off, we'll run through the installation of RStudio for those of you who have yet to download and install. You'll be needing R, which you can find here:</p>
<p><a href="https://cran.rstudio.com/">Click here to download R</a></p>
<p>Next, you'll need RStudio, which is a GUI for using R:</p>
<p><a href="https://www.rstudio.com/products/rstudio/download2/">Click here to download RStudio</a></p>
<p>R is a language used mainly for statistical analysis. It is easily extendible through packages that can be downloaded and installed from the R-repository. To access this repository and install pacakges, use the <code>install.packages(&quot;Package Name&quot;)</code> function.</p>
<p>For today, you will be needing the data.table package:</p>
<p><code>install.packages(data.table)</code></p>
<p>Another package that is useful to have is the swirl tutorial package:</p>
<p><code>install.packages(swirl)</code></p>
<p>This package includes tutorials into the different classes and functions of R, and will be a useful reference for getting started with R. However, we will not be covering this, snce you can slowly explore this in your free time. While useful, going through the Swirl tutorials can be time consuming.</p>
<p>If at any point in time you are confused about a function in R, you can use the command <code>?&lt;function&gt;</code> to find out more about the function. For example:</p>
<p><code>?install.packages</code></p>
<h2>Importing Data</h2>
<p>We'll be using a DMEF dataset, which is mostly online shopping data (some phone and mail transactions too). Let's import the data first. If you're using RStudio, both of these steps can be performed using the GUI, and the code will be generated for you.</p>
<p>The read.csv function takes in a csv file and imports it into R. If the file is in your working directory, you will only need the name of the file. If you are trying to import the file from another folder, as shown below, you will need to specify the file path.</p>
The '&lt;-' operator is used to store data in a variable.
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Navigating to your working directory (GUI)
# setwd("C:/Users/Ken/Dropbox/Academics/2016/Sem2/R Intro/bza-r-intro/code")
setwd("~/R Intro/bza-r-intro/code")

# Loading the file (GUI)
# dmef_dataset <- read.csv("C:/Users/Ken/Dropbox/Academics/2016/Sem2/R Intro/bza-r-intro/data/dmef_dataset.csv")
dmef_dataset <- read.csv("~/R Intro/dmef_dataset.csv")</code></pre>
</div>
<p>So the code above loads the csv data and saved it to the 'dmef_dataset' variable.</p>
<h2>Getting A Feel</h2>
<p>You can take a look at the entire dataset using the View command, <code>View(dmef_dataset)</code>, get a simple summary using the summary command, <code>summary(dmef_dataset)</code>, or see the types of data being stored using the str command, <code>str(dmef_dataset)</code>.</p>
<p>Let's just use the summary command to see the descriptive statistics for this dataset.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">summary(dmef_dataset)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##      CUSTNO               ZIP           ORDER_LINE       
##  Min.   :9.991e+09   10021  :   337   Min.   :    1.000  
##  1st Qu.:1.008e+10   10128  :   270   1st Qu.:    1.000  
##  Median :1.009e+10   08540  :   258   Median :    1.000  
##  Mean   :1.009e+10   10011  :   229   Mean   :    5.107  
##  3rd Qu.:1.011e+10   10024  :   224   3rd Qu.:    2.000  
##  Max.   :1.013e+10   77024  :   214   Max.   :11012.000  
##                      (Other):224597                      
##     ORDER_NO           PRODUCT_NO       RETN_LINE      
##  Min.   :123456799   Min.   :920190   Min.   :   1.00  
##  1st Qu.:125942853   1st Qu.:982083   1st Qu.:   1.00  
##  Median :128264074   Median :984215   Median :   1.00  
##  Mean   :127978114   Mean   :982891   Mean   :  19.72  
##  3rd Qu.:129181758   3rd Qu.:987324   3rd Qu.:   1.00  
##  Max.   :132481165   Max.   :993299   Max.   :2008.00  
##                                       NA's   :215387   
##        BO_DATE           CANCEL_DATE     CANCEL_QUANTITY   
##            :208630             :217885   Min.   : 0.00000  
##  12/13/2007:   115   5/25/2005 :    71   1st Qu.: 0.00000  
##  12/12/2007:   107   12/12/2007:    53   Median : 0.00000  
##  12/4/2007 :   106   12/29/2008:    52   Mean   : 0.03931  
##  12/10/2007:   101   3/8/2010  :    47   3rd Qu.: 0.00000  
##  12/5/2007 :   101   9/10/2008 :    41   Max.   :70.00000  
##  (Other)   : 16969   (Other)   :  7980                     
##  PRODUCT_CATEGORY_ID CHANNEL      DIVISION_ID       OFFER_ID     
##  T      :33907       ML:  8112   Min.   :1.000   W08WEB :  9168  
##  C      :33871       PH: 90981   1st Qu.:1.000   W07WEB :  9120  
##  P      :32683       WE:127036   Median :1.000   W06WEB :  7471  
##  E      :31469                   Mean   :2.526   W09WEB :  7044  
##  H      :19358                   3rd Qu.:5.000   W05WEB :  6820  
##  F      :19346                   Max.   :5.000   W10WEB :  6036  
##  (Other):55495                                   (Other):180470  
##       ORDER_DATE        EXT_COST         EXT_PRICE         PAY_METHOD    
##  4/12/2007 :   622   Min.   :   0.00   Min.   :   0.00   VI     :102103  
##  10/12/2007:   610   1st Qu.:  14.03   1st Qu.:  34.95   MC     : 58741  
##  7/12/2010 :   609   Median :  24.00   Median :  59.95   AX     : 42159  
##  6/12/2005 :   608   Mean   :  39.05   Mean   :  84.21   DI     : 11759  
##  4/12/2006 :   604   3rd Qu.:  45.00   3rd Qu.:  99.95   PC     :  6717  
##  12/12/2011:   599   Max.   :3100.00   Max.   :5000.00   PY     :  2465  
##  (Other)   :222477                                       (Other):  2185  
##     QUANTITY           SHIP_DATE      SHIP_QUANTITY    
##  Min.   : 1.000             :  8470   Min.   : 0.0000  
##  1st Qu.: 1.000   11/12/2007:   697   1st Qu.: 1.0000  
##  Median : 1.000   7/12/2011 :   596   Median : 1.0000  
##  Mean   : 1.037   17/12/2008:   595   Mean   : 0.9979  
##  3rd Qu.: 1.000   16/12/2008:   588   3rd Qu.: 1.0000  
##  Max.   :70.000   10/12/2007:   584   Max.   :16.0000  
##                   (Other)   :214599                    
##       RETN_DATE         RETN_QTY        RETN_REVENUE     
##  0         :215387   Min.   :0.00000   Min.   :   0.000  
##  1/7/2011  :    38   1st Qu.:0.00000   1st Qu.:   0.000  
##  12/5/2008 :    34   Median :0.00000   Median :   0.000  
##  1/21/2008 :    29   Mean   :0.04833   Mean   :   5.172  
##  12/29/2010:    29   3rd Qu.:0.00000   3rd Qu.:   0.000  
##  1/6/2010  :    28   Max.   :8.00000   Max.   :4500.000  
##  (Other)   : 10584
</code></pre>
</div>
<h2>Before we go on...</h2>
<p>The data that you have currently imported is in a data.frame format. This is the most primitive and basic class for storing data in R. To check this, you can use the class function:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">class(dmef_dataset)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "data.frame"
</code></pre>
</div>
<p>Personally, I like using the <strong>data.table</strong> library. This is an extension of the data.frame class and allows you to manipulate the dataset more easily. You have other options like the standard in-built <strong>data.frame</strong> object, or <strong>dplyr</strong> which works better with ggplot2, but data.table is the one we'll be working with today.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Firstly, let's load the data.table package that you installed earlier.
library(data.table)</code></pre>
<button class="warning R toggle btn btn-xs btn-warning">
<span class="glyphicon glyphicon-chevron-down"></span> R warning
</button>
<pre style=""><code class="warning r">## Warning: package 'data.table' was built under R version 3.2.5
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Making the dataframe a datatable
dmef_dataset <- as.data.table(dmef_dataset)</code></pre>
</div>
<p>Now, you can check the class of the dataset:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">class(dmef_dataset)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "data.table" "data.frame"
</code></pre>
</div>
<p>As you can see, the data set now has the class &quot;data.table&quot;, but it is still a data frame. This is because data table is only an extension of the data frame class. We won't go into too much specifics at this point, so let's continue.</p>
<h2>WTF so many columns</h2>
<p>If you've taken a look at the full data set, you might think it's a little large to handle. So let's clean up and filter the data. This is where the data table comes in useful. Let's run through some of the basic functions of a data table that might help.</p>
<p>The data table function takes the general form of data.table(x,y,z), where x denotes the subset of rows, y denotes the subset of columns, and z denotes the grouping criteria for the resultant column. Let's say we want to look at rows 3 to 5</p>
<h3>Sifting through rows</h3>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">dmef_dataset[3:5,]</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##         CUSTNO   ZIP ORDER_LINE  ORDER_NO PRODUCT_NO RETN_LINE BO_DATE
## 1: 10109980365 76443          3 123456799     989457        NA        
## 2: 10120142886 89103          1 123456815     986782        NA        
## 3: 10056184374 28655          1 123457056     986620        NA        
##    CANCEL_DATE CANCEL_QUANTITY PRODUCT_CATEGORY_ID CHANNEL DIVISION_ID
## 1:                           0                   C      ML           1
## 2:                           0                   E      ML           1
## 3:                           0                   E      ML           1
##    OFFER_ID ORDER_DATE EXT_COST EXT_PRICE PAY_METHOD QUANTITY  SHIP_DATE
## 1:   A10LCB 19/12/2010     28.0     69.95         PC        1 20/12/2010
## 2:   A10LMB 21/12/2010    227.0    349.95         MO        1 21/12/2010
## 3:   A11LSB  18/4/2011    105.8    249.95         MO        1  18/4/2011
##    SHIP_QUANTITY RETN_DATE RETN_QTY RETN_REVENUE
## 1:             1         0        0            0
## 2:             1         0        0            0
## 3:             1         0        0            0
</code></pre>
</div>
<p>But that doesn't really help with data analysis, since you won't know which rows you are interested in, and you definitely do not want to search through all those rows. Luckily, R can also do that for you. Data tables allow for sorting of values based on the row. Let's try that now. For this, we can for example find the rows that contain a certain product...</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># To keep it short, let's use the head function to look at the first five entries.
head(dmef_dataset[PRODUCT_NO %in% 987668])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##         CUSTNO   ZIP ORDER_LINE  ORDER_NO PRODUCT_NO RETN_LINE BO_DATE
## 1: 10109980365 76443          1 123456799     987668        NA        
## 2: 10109980365 76443          2 123456799     987668        NA        
## 3: 10109086080 63146          2 127601151     987668        NA        
## 4: 10109086080 63146          2 127617169     987668        NA        
## 5: 10109585478 80218          1 127637289     987668         1        
## 6: 10110046231 40222          1 127670778     987668        NA        
##    CANCEL_DATE CANCEL_QUANTITY PRODUCT_CATEGORY_ID CHANNEL DIVISION_ID
## 1:                           0                   C      ML           1
## 2:                           0                   C      ML           1
## 3:                           0                   C      WE           5
## 4:                           0                   C      WE           5
## 5:                           0                   C      WE           1
## 6:                           0                   C      WE           5
##    OFFER_ID ORDER_DATE EXT_COST EXT_PRICE PAY_METHOD QUANTITY  SHIP_DATE
## 1:   A10LCB 19/12/2010    25.99     79.95         PC        1 20/12/2010
## 2:   A10LCB 19/12/2010    25.99     79.95         PC        1 20/12/2010
## 3:   W09SHP  8/11/2009    15.50     79.95         DI        1  9/11/2009
## 4:   W09SHP 13/11/2009    15.50     79.95         DI        1 16/11/2009
## 5:   A09LMB 19/11/2009    15.50     79.95         AX        1 20/11/2009
## 6:   W09WEB 27/11/2009    15.50     79.95         AX        1 28/11/2009
##    SHIP_QUANTITY RETN_DATE RETN_QTY RETN_REVENUE
## 1:             1         0        0         0.00
## 2:             1         0        0         0.00
## 3:             1         0        0         0.00
## 4:             1         0        0         0.00
## 5:             1 12/4/2009        1        79.95
## 6:             1         0        0         0.00
</code></pre>
</div>
<p>Or maybe we want to look at a few products at a time. To do this, we will create a vector of the products we want using the <code>c()</code> function.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">head(dmef_dataset[PRODUCT_NO %in% c(987668, 989457)])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##         CUSTNO   ZIP ORDER_LINE  ORDER_NO PRODUCT_NO RETN_LINE BO_DATE
## 1: 10109980365 76443          1 123456799     987668        NA        
## 2: 10109980365 76443          2 123456799     987668        NA        
## 3: 10109980365 76443          3 123456799     989457        NA        
## 4: 10109086080 63146          2 127601151     987668        NA        
## 5: 10109086080 63146          2 127617169     987668        NA        
## 6: 10109585478 80218          1 127637289     987668         1        
##    CANCEL_DATE CANCEL_QUANTITY PRODUCT_CATEGORY_ID CHANNEL DIVISION_ID
## 1:                           0                   C      ML           1
## 2:                           0                   C      ML           1
## 3:                           0                   C      ML           1
## 4:                           0                   C      WE           5
## 5:                           0                   C      WE           5
## 6:                           0                   C      WE           1
##    OFFER_ID ORDER_DATE EXT_COST EXT_PRICE PAY_METHOD QUANTITY  SHIP_DATE
## 1:   A10LCB 19/12/2010    25.99     79.95         PC        1 20/12/2010
## 2:   A10LCB 19/12/2010    25.99     79.95         PC        1 20/12/2010
## 3:   A10LCB 19/12/2010    28.00     69.95         PC        1 20/12/2010
## 4:   W09SHP  8/11/2009    15.50     79.95         DI        1  9/11/2009
## 5:   W09SHP 13/11/2009    15.50     79.95         DI        1 16/11/2009
## 6:   A09LMB 19/11/2009    15.50     79.95         AX        1 20/11/2009
##    SHIP_QUANTITY RETN_DATE RETN_QTY RETN_REVENUE
## 1:             1         0        0         0.00
## 2:             1         0        0         0.00
## 3:             1         0        0         0.00
## 4:             1         0        0         0.00
## 5:             1         0        0         0.00
## 6:             1 12/4/2009        1        79.95
</code></pre>
</div>
<p>The first variable in the data.table function can take in any argument. We can include filters to check for specific values, as we have done above, but we can also filter out values outside of a certain range. For example:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">head(dmef_dataset[EXT_PRICE < 30])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##         CUSTNO   ZIP ORDER_LINE  ORDER_NO PRODUCT_NO RETN_LINE BO_DATE
## 1: 10126696008 05353          2 123457640     989637        NA        
## 2: 10128401286 49286          3 123457684     991464        NA        
## 3: 10129006933 97327          2 123457798     991464        NA        
## 4: 10118306172 77984          2 123457820     989929        NA        
## 5: 10131135053 15436          2 123458129     986130        NA        
## 6: 10071762171 44216          1 123490760     964576        NA        
##    CANCEL_DATE CANCEL_QUANTITY PRODUCT_CATEGORY_ID CHANNEL DIVISION_ID
## 1:                           0                   K      ML           1
## 2:                           0                   C      ML           1
## 3:                           0                   C      ML           1
## 4:                           0                   E      ML           1
## 5:                           0                   H      ML           1
## 6:                           0                   T      PH           5
##    OFFER_ID ORDER_DATE EXT_COST EXT_PRICE PAY_METHOD QUANTITY  SHIP_DATE
## 1:   A11LMB 21/12/2011    13.80     29.95         PC        1 21/12/2011
## 2:   A12WNB  20/1/2012    10.00     29.95         PC        1  24/1/2012
## 3:   A12SPB   2/3/2012    10.00     29.95         PC        1   5/3/2012
## 4:   A11HLB   8/3/2012    12.00     24.95         PC        1   9/3/2012
## 5:   A12OFM   7/8/2012     5.95     14.95         PC        1   8/8/2012
## 6:   W05CAT  14/2/2005     2.00      4.95         VI        1  15/2/2005
##    SHIP_QUANTITY RETN_DATE RETN_QTY RETN_REVENUE
## 1:             1         0        0            0
## 2:             1         0        0            0
## 3:             1         0        0            0
## 4:             1         0        0            0
## 5:             1         0        0            0
## 6:             1         0        0            0
</code></pre>
</div>
<p>We can even throw all of the above together!</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">head(dmef_dataset[EXT_PRICE<70 & PRODUCT_NO %in% c(987669, 989457)])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##         CUSTNO   ZIP ORDER_LINE  ORDER_NO PRODUCT_NO RETN_LINE BO_DATE
## 1: 10109980365 76443          3 123456799     989457        NA        
## 2: 10116452851 49017          1 128146175     989457        NA        
## 3: 10116797651 10016          1 128174012     989457        NA        
## 4: 10117257911 21014          1 128219233     989457        NA        
## 5: 10117257911 21014          2 128219233     989457        NA        
## 6: 10117493794 30305          1 128239010     989457        NA        
##    CANCEL_DATE CANCEL_QUANTITY PRODUCT_CATEGORY_ID CHANNEL DIVISION_ID
## 1:                           0                   C      ML           1
## 2:                           0                   C      WE           5
## 3:                           0                   C      WE           1
## 4:                           0                   C      WE           1
## 5:                           0                   C      WE           1
## 6:                           0                   C      WE           1
##    OFFER_ID ORDER_DATE EXT_COST EXT_PRICE PAY_METHOD QUANTITY  SHIP_DATE
## 1:   A10LCB 19/12/2010       28     69.95         PC        1 20/12/2010
## 2:   W10CMP  6/10/2010       28     69.95         VI        1  1/11/2010
## 3:   A10GFP 24/10/2010       28     69.95         MC        1  1/11/2010
## 4:   A10GFB  9/11/2010       28     69.95         VI        1 10/11/2010
## 5:   A10GFB  9/11/2010       28     69.95         VI        1 10/11/2010
## 6:   A10GFP 15/11/2010       28     69.95         MC        1 16/11/2010
##    SHIP_QUANTITY RETN_DATE RETN_QTY RETN_REVENUE
## 1:             1         0        0            0
## 2:             1         0        0            0
## 3:             1         0        0            0
## 4:             1         0        0            0
## 5:             1         0        0            0
## 6:             1         0        0            0
</code></pre>
</div>
<h3>Sorting columns</h3>
<p>data.tables also allow you to filter out columns using their headers. For example, let's take a look at some products and their cost and price.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">ex1 <- dmef_dataset[,.(PRODUCT_NO, QUANTITY, EXT_PRICE)]</code></pre>
</div>
<p>You can also generate new columns ased on data from existing columns, similar to what you can normally do in excel, but this time with one line of code. The <code>EXT_PRICE</code> column takes into account the total price of all the products. So lets try to find the the unit price of each product.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">#We start by removing duplicate products. The following code removes duplicates from the dataset using the product numbers as a key.

unique_ex1 <- unique(ex1, by = "PRODUCT_NO")

#Next, we'll create a new column called unit_price, and make it equal to the value of EXT_PRICE divided by QUANTITY.

unique_ex1 <- unique_ex1[, unit_price := EXT_PRICE/QUANTITY]

#To better see how the code works, let's take a look at the products with quantity greater than 1

head(unique_ex1[QUANTITY > 1])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##    PRODUCT_NO QUANTITY EXT_PRICE unit_price
## 1:     991734        3    239.85      79.95
## 2:     981222        4    139.80      34.95
## 3:     975483        3     59.85      19.95
## 4:     981856        4     59.80      14.95
## 5:     982117        2     79.90      39.95
## 6:     975592        2     49.90      24.95
</code></pre>
</div>
<h3>Sorting by groups</h3>
<p>Lastly, let's look at how to sort the data by groups. For example, let's say we want to find out the sum of the prices for each product. Fo this, we designate the product numbers as the groupings. The code should look something like this:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">head(ex1[,.(total = sum(EXT_PRICE)), by = PRODUCT_NO])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##    PRODUCT_NO    total
## 1:     987668  5726.40
## 2:     989457  8374.05
## 3:     986782 40994.15
## 4:     986620 16996.60
## 5:     989973  1498.50
## 6:     989049   999.75
</code></pre>
</div>
<p>As some of you may have realized, we could have used this to find the unit price of each product much more easily. Let's try and compare the results.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">head(ex1[,.(unit = sum(EXT_PRICE)/sum(QUANTITY)), by = PRODUCT_NO])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##    PRODUCT_NO      unit
## 1:     987668  79.53333
## 2:     989457  70.37017
## 3:     986782 350.37735
## 4:     986620 249.95000
## 5:     989973  49.95000
## 6:     989049 199.95000
</code></pre>
</div>
<hr />
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">head(unique_ex1)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##    PRODUCT_NO QUANTITY EXT_PRICE unit_price
## 1:     987668        1     79.95      79.95
## 2:     989457        1     69.95      69.95
## 3:     986782        1    349.95     349.95
## 4:     986620        1    249.95     249.95
## 5:     989973        1     49.95      49.95
## 6:     989049        1    199.95     199.95
</code></pre>
</div>
<p>Looks like there's a bit of discrepancy. While the reason may be obvious based on the different ways we approached this, let's try and confirm it with some code:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">ex1[PRODUCT_NO == 987668, .N, by = EXT_PRICE/QUANTITY]</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##    EXT_PRICE  N
## 1:     79.95 69
## 2:     59.95  2
## 3:     89.95  1
</code></pre>
</div>
<p>The above code sorted product number 987668 into different categories based on the unit price calculated from each individual transacion. As you can see, there are 69 transactions at 79.95 each, 2 transactions at 59.95 each, and one poor soul who bought the product for 89.95 each. For our first method, we removed any duplicates before calculating anything, and the duplicates were calculated based on product number. Hence, the transactions with different prices were removed, and not counted in calculating the unit price. However, when we calculated it by grouping the product numbers and calculating the overall average, these different prices were taken into account.</p>
<p>The important lesson here is to ensure that whichever method you use to extract data from a dataset, you should always besure that you are getting the correct values. It always helps to find out alternative methods of extracting the same data, just to check if they correlate.</p>
<h3>Moving on, finally</h3>
<p>Now that you know the basic functions for managing data in a data.table, let's carry on with our analysis. We'll start by removing the columns we don't care about. The <code>dmef_small</code> dataset we get will be used for the rest of this exercise.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">dmef_small <- dmef_dataset[, .(ORDER_NO, ZIP, ORDER_LINE, PRODUCT_CATEGORY_ID, 
                               CHANNEL, PRODUCT_NO, EXT_PRICE, QUANTITY, 
                               RETN_QTY, RETN_REVENUE)]</code></pre>
</div>
<h2>Weird prices?</h2>
<p>We can start doing some simple histograms to better understand the distribution of the data.</p>
<p>For example, let's make a histogram for price.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># First I create a new col for price. EXT_PRICE = PRICE * QTY so to get price..
dmef_small[, PRICE := EXT_PRICE/QUANTITY]

# You should see a new column called PRICE
head(dmef_small)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##     ORDER_NO   ZIP ORDER_LINE PRODUCT_CATEGORY_ID CHANNEL PRODUCT_NO
## 1: 123456799 76443          1                   C      ML     987668
## 2: 123456799 76443          2                   C      ML     987668
## 3: 123456799 76443          3                   C      ML     989457
## 4: 123456815 89103          1                   E      ML     986782
## 5: 123457056 28655          1                   E      ML     986620
## 6: 123457080 03743          1                   E      ML     989973
##    EXT_PRICE QUANTITY RETN_QTY RETN_REVENUE  PRICE
## 1:     79.95        1        0            0  79.95
## 2:     79.95        1        0            0  79.95
## 3:     69.95        1        0            0  69.95
## 4:    349.95        1        0            0 349.95
## 5:    249.95        1        0            0 249.95
## 6:     49.95        1        0            0  49.95
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># We want to see the distribution of prices for diff objs
# But in this case, each observation is a transaction
# This means there could be super popular objects that mess things up for us
# So first let's just get prices for unique products
object.price <- dmef_small[, .(PRODUCT_NO, PRODUCT_CATEGORY_ID, PRICE)]</code></pre>
</div>
<p>Remember the mistake we made earlier when using the unique function, in leaving out different price groups for a product? Let's try to resolve that while using the unique function. We can do this by adding another variable to the unique function, so that it searches for rows that are unique both in price and product number.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">uniq.object.price <- unique(object.price, by = c("PRODUCT_NO", "PRICE"))</code></pre>
</div>
<p>Now we're left with 8909 unique products with unique prices to look at. Next, let's plot them on a histogram. The histogram function is simply <code>hist(data table)</code>. There are additional parameters you can define, and you can find out more by typing <code>?hist()</code> into your console. For now, we will be using <code>main</code> to determine the name of the histogram, and <code>xlab</code> to label the x-axis.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Plot prices on a histogram
hist(uniq.object.price[, PRICE],
     main = "Histogram of all prices",
     xlab = "Price")</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>Can't really see much...let's filter to those cheaper than 100. Then, to ensure that we can see the prices more easily, we'll use <code>break</code> to specify for the histogram to show a hundred bars. This way, each bar will represent a dollar across the x-axis.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">hist(uniq.object.price[PRICE < 100, PRICE], breaks=100,
     main = "Histogram of Prices below 100",
     xlab = "Price")</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>Looks like the prices bunch around certain values. Let's try to break this down, and look at the the ending number for the price. To do that, we define a function in r, which removes the decimal place, and then find the remainder when divided by 10, giving the ones place digit. After that, we'll add a new column for the ones place, and plot the histogram.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">LastDigit <- function(x) { (x - x%%1) %% 10 }

# Add a new col ONES.PLACE

uniq.object.price[, ONES.PLACE := LastDigit(PRICE)] 

hist(uniq.object.price[, ONES.PLACE],
     main = "Histogram of Ones Place",
     xlab = "Ones Place")</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">#Now, let's look at the cents portion. Again, we'll define a function for the cents part.

Cents <- function(x) { round(100 * (x %% 1)) }

#Creating a column for the cents.
uniq.object.price[, CENTS := Cents(PRICE)]

#We'll plot a Histogram with the same paramenters as before
hist(uniq.object.price[, CENTS], breaks=100,
     main = "Histogram of Cents Portion",
     xlab = "Cents")</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Wow okay looks like there's not much variation
# How about the exact numbers?
table(uniq.object.price[, CENTS])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
##    0    2    6    7   10   15   16   17   22   25   27   32   33   36   37 
##   95    1    3    6    1    1    2    6    2    1    4    1    1    1    8 
##   38   41   42   45   46   47   49   50   56   57   59   65   66   67   70 
##    1    2    3    9    2    7    2    4    2    4    1    1    1    1    2 
##   71   72   75   76   77   80   85   87   90   91   92   94   95   96   97 
##    2    4    1    2   12    2    4    9   11    1    1    2 8614   31   14 
##   98   99 
##   10   14
</code></pre>
</div>
<h2>Lol is this even helpful?</h2>
<p>I mean, the prices thing sounds interesting and all, but can we derive any cool business insights using R?</p>
<p>Actually, that last part was just a warm-up. Retail businesses can sometimes have problems with high return rates. Wouldn't it be useful if we could find out more about why products were being returned? Let's try finding out the proportion of returns for each product category, as well as the distribution of returned products.</p>
<h2>Return vs Non-return</h2>
<p>First let's split the dataset.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Split into two groups
returned <- dmef_small[RETN_QTY > 0]
not.returned <- dmef_small[RETN_QTY == 0]

# Checks to make sure we're right
table(dmef_small[, RETN_QTY==0])</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
##  FALSE   TRUE 
##  10742 215387
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># This should match up with our number of rows
nrow(returned)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] 10742
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">nrow(not.returned)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] 215387
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Yup looks like it worked, and about 4.75% of all goods were returned?
nrow(returned)/nrow(dmef_small) * 100</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] 4.750386
</code></pre>
</div>
<h3>Price</h3>
<p>Since we've been looking at price so much, was there a difference in the prices of products that were returned vs not returned? Remember we did a quick price sorting earlier, under <code>unique.object.price</code>. We'll use the <code>returned</code> and <code>not.returned</code> dataset to filter out the products from the</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">returned.object.price <- uniq.object.price[PRODUCT_NO %in% returned[, PRODUCT_NO]]
not.returned.object.price <- uniq.object.price[PRODUCT_NO %in% not.returned[, PRODUCT_NO]]</code></pre>
</div>
<p>Now, we'll introduce you to another type of plot you'll encounter quite often: the box plot. The box plot shows the distribution of the dataset, with the center line representing the mean, the top and bottom of the box representing the 25th and 75th percentile respectively. Additional points outside the box represent outliers. Since a box plot is used to compare distributions, it takes in two data vectors. As usual, to find out more you can type <code>?boxplot</code> into your console.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Any difference in price distribution?
boxplot(returned.object.price[, PRICE],not.returned.object.price[, PRICE])</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>Well clearly there are too many outliers. Let's ignore the outliers.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">boxplot(returned.object.price[, PRICE],not.returned.object.price[, PRICE],
        main = "Product Prices for Returned vs Not Returned Goods",
        names = c("returned", "not returned"),
        outline=F)</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>Well for the prices, it appears that median price is about the same for both, but products that are returned don't go as expensive as those that are returned. You can tell from a lower 75th percentile, and lower max (excluding outliers). Of course, it's also possible that you observe because of a greater variance. There are after all about 2.7x the number of unique products in the not returned list vs the returned list.</p>
<h3>Total Order Size</h3>
<p>Instead of just looking at object price, how about the total spent in that transaction, <code>(EXT_PRICE)</code>?</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">boxplot(returned[, EXT_PRICE], not.returned[, EXT_PRICE], outline=F,
        main = "Extended Prices for Returned vs Not Returned Goods",
        names = c("Returned", "Not Returned"))</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>Interestingly, after accounting for outliers, it appears that returned goods tend to be in larger orders than non-returned goods. This might indicate that customers who make larger purchases tend to return goods more, or that customers who like to return goods tend to buy more.</p>
<h3>Product Categories</h3>
<p>Now, let's take a look at which product categories tend to have the highest rate of returns. Firstly, we'll use a bar plot to show the proportion of returned goods that came from that product category. Let's sort the data by getting the count of returned goods per product category.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">bar1 <- returned[, .N, by = PRODUCT_CATEGORY_ID]

#Now, let's plot the bar chart using the product counts.

barplot(bar1[,N], names = bar1[,PRODUCT_CATEGORY_ID])</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAk1BMVEUAAAAAADoAAGYAOjoAOpAAZrY6AAA6ADo6AGY6OgA6OpA6ZpA6ZrY6kNtmAABmADpmAGZmOjpmOpBmZjpmZmZmZrZmtv+QOgCQOjqQOmaQZpCQkGaQtpCQ27aQ29uQ2/+2ZgC2Zjq2tma225C2/9u2//++vr7bkDrbkGbb/7bb/9vb////tmb/25D//7b//9v////wkXOcAAAACXBIWXMAAAsSAAALEgHS3X78AAALSElEQVR4nO3dgVYbxxlAYZEE7FKD0zSFuE0NbeKS1hLS+z9dWQm3DjNiZ9jR8K/uvSennKOg2dF+Wu2srXQXG0O2eO0J2OskPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIc2Dr86Wwx986nDbKxbo/Dr66vtz+V3nw8+GevXKPz9959+99OOI494aOPn+PtLz/FHmKt6aMJD83IOmos7aIe/nFtketlI1rDDH/GLfyUJ//od/nJO+JAd3kD4kL3EoO5ULXzIihZ3w6d95hQv/Iwrgd8u6Ffv6p+7+y3hI1YCvzr/nL2cE37GjcNfnnz8MBzx58lnvfAzrsBgfb043Swzl3PCz7gpBsLPOOGhFf3t3MmNi7tjq+jP6tfXF8IfWYV/O3d7KvxxVfq3c3ffvhX+mCr527mL4cddej0n/IxzVQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhzZusDrbd1Nh4WfcqMEztxEXfsaNGny5JYm3JjmuPOKhjRsMt5L2HH90uaqHJjw0L+egubiD5uUcNI94aF7OQXNVD+0lBosvlf228BHzcg6aiztoXs5B84iH5uUcNC/noAkPrehy7uTGxd2xVbS4W19fCH9kFV7O3Z4Kf1yVXs7dfftW+GOq5HLuYvhxl17PCT/jXNVDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0BrCLzJthA9aS/i8sPAhEx6a8NDGDYpvMSr8nBo1KL/hoPBzatSg/Bajws8pj3ho4wbFtxgVfk65qocmPDQv56C5uIPm5Rw0j3hoXs5Bc1UP7SUGX3/N4uuHhZ9RRYu74dM+PcV7xM+5Evjtgn71buy5ws+pEvjV+Wcv546tcfjLk48fhiP+3Mu5Y6rAYH29ON0s+1zO7fmmrjUv2OWcHw+9Eh6a8NCEh1awqn9cY6WrO+Fn3PhuXV9flD1X+DlVsFvv398UPVf4OeU5Hprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXho47t1ddbxbtLC92p0t/a9f7zwvRrdrV9uLdrnFqPC98ojHtr4bn28DZXn+OPKVT004aF5OQfNxR00L+egecRD83IOmqt6aC/ZrYsvPXlY+Bnl5Rw0F3fQvJyD5hEPzcs5aF7OQRMemvDQhIc2fjl3+fjHdOnqTvgZN75b19cXZc8Vfk4V7Nb79zdFz62DX2QSvl+vdo7PPyx8r4SHJnxV+RPUHBO+qujzK0/4qqLPrzzhq4o+v/KEryr6/MoTvqro8ytP+Kqiz6884auKPr/yhK8q+vzKE76q6PMrT/iqos+vPOGrij6/8oSvKvr8yhO+qujzK0/4qqLPrzzhq4o+v/KEryr6/MoTvqro8ytP+Kqiz6884auKPr/yhK8q+vzKE76q6PMrbx7wYb7cKnzmuYeEj7K/w0xkcsJXFWYikxO+qjATmZzwVYWZyOSEryrMRCYnfFVhJjI54asKM5HJCV9VmIlMTviqwkxkciD4Fn/8J3zmueHhGwwifOa5ws8p4buPESPhu48RI+G7jxEj4buPESPhu48RI+G7jxEj4buPESPhu48RI+G7jxEj4buPESPhu48RI+G7jxEj4buPESPhu48Ro/FpH+g24sK/bqPTPtRNhYV/3UanfajbiAv/unnEdx8jRuPTPtBtxIV/3VzVdx8jRsJ3HyNGXs51HyNGLu66jxGjl1zO7fnvUISfUx7x3ceIkZdz3ceIkav67mPESPjuY8SoaHE3fNqnp3jhjx1+u6BfvRt7rvBzqgR+df7Zv51rN0aMxuEvTz5+GI74cy/nUPDDlfzidLP0cq7VGDFyVd99jBgJ332MGAnffYwY4eHr/k/QhM88d6bwVUMLn3mu8HNKeOGnPlf4OSW88FOf2x++xYq8bmjhM899Bfgqhv5bjJzwLbYY5oaI5QnfYosz/CAQvsUWhZ+6r4TvlfAttij81H0lfK+Eb7FF4afuK+F7JXyLLQo/dV8J3yvhW2xR+Kn7SvheCd9ii8JP3VfC90r4FlsUfuq+Er5XwrfYovBT95XwvRK+xRaFn7qvhO+V8C22KPzUfSV8r4RvsUXhp+4r4XslfIstCj91XwnfK+FbbFH4qftK+F4J32KL+x4O/J/UCd9iizP8IBC+xRaFn7pThO+V8C22KPzUnSJ8r4RvsUXhp+4U4ZNZH+iSUPgWWzwkfIMxsuO2e67w0+ZXM+vpCd9ii8JP3SnCl816esK32KLwU3eK8GWznp7wLbZY9xpD3BND+BZbbPEaq2Y9PeFbbFH4A+0U4ZOhp/6BnvAttvgK8FWDjONNea7wZQ8LX75ThC/c4ovxMq3OtieQiDcVrjv/Cf8MXtr6+mr7c/ldvNuIH9cWa96uHeDvv//0u59fT/HJUHtmXvNwizHIW2wI/8wRbzNu/G1yf7l9O2XO8TbjmvwpkM0v4aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPrTX87lv4JzdPH18+PJp8XXP19tP//jcd5CI/9tOHt09fX5/mtpg8+DjG1dOH74a53SZb3Gzu3ycv5WFj228hPn056et4HDu3wd13GZMvMu6ZXn781dnw+m5f9m3I5vD5V383zO42v6sy8MMj6S7Pjz08+uWrwF+1/GZ4OH3zDGOs3iSat1eb1Xnme8TLHzPvhvxU9r30h1d9f5mMcn959fh+S8bY/quCba7e/PFh6D/teb+N1Ad+h5jwPAufYu6Fz7jvHkotd0P/lMCvzv+TPjj85t9/yH2tvBx+998jlL65H/dI7i2YgX/755vN6sfI8Hu+lP8sfHpY7oP/NXXf+7m7GzqzY++yh/bDb97mDr9y+N1LT9+a6+vcPtmNkTu/ZOH/ebX57ecg8Ge5098yPdn+/5eLz3Tbh5ORVm/+kDuXZw+affPb/osc8N1Ffu4V8LunZ94+y8xaaDdG5hMpN/7q7S/v1h9+CQKfPyrzDM8e8cVjn11kTqHD7z4g5/ds7tTw08+ZOW6XcbnFUy18Zovbpzz9VKs84n/967//su+zbaS45/jSsbfEyWlht619C8T0+HvwySzqt2/Y3Gf99HP87g3xdOzd7+XPjBn4T//420Vo+Jes6kvH3j6aLI83y+FgX+aP+PT9MPBkhr8bXHKf9TWr+oeXvm9Vn1/cZVb1wy8mb4eHX354gVHgd6ft9Iiquo6vhs8slYaZpJ/S+eXD7rovefesP+z74M3Cb4dO3yXL/dfx6fty33X8ngXB7p/018fzT+6gCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEhyY8NOGhCQ9NeGjCQxMemvDQhIcmPDThoQkPTXhowkMTHprw0ISHJjw04aEJD014aMJDEx6a8NCEh/ZfvsBBV+m23KgAAAAASUVORK5CYII=" /><!-- --></a>
</div>
</div>
</div>
<p>Next, we will do the same for non-returned goods.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">#We'll do the same conversion as we did with the returned goods.
bar2 <- not.returned[, .N, by = PRODUCT_CATEGORY_ID]

#The same goes for the bar plot.
barplot(bar2[,N], names = bar2[,PRODUCT_CATEGORY_ID])</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /><!-- --></a>
</div>
</div>
</div>
<p>When trying to compare data using bar plots, it helps if we can do an overlay to see their distributions with respect to each other, especially when the order of the bars are sorted. Let's try that.</p>
<p>Firstly, you'll realize that product category I has never been returned, and hence does not show up in the original. We'll just fix that by adding in an empty row for I, using the <code>rbind</code> function. Next, we'll sort both tables based on their product category in alphabetical order.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">#We'll start by sorting both the datasets based on the product category
bar1 <- rbind(bar1, data.table(PRODUCT_CATEGORY_ID = "I", N = 0))
bar1 <- bar1[order(PRODUCT_CATEGORY_ID)]
bar2 <- bar2[order(PRODUCT_CATEGORY_ID)]</code></pre>
</div>
<p>The <code>order()</code> function sorts the rows in a data table based on the specified column. In this case, the table is now sorted in ascending alphabetical order based on the product category ID. To sort it in descending order, you can simply use <code>order(-PRODUCT_CATEGORY_ID)</code> instead</p>
<p>Next we'll plot the bar charts in an overlay. We'll also add in a legend for clarity.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">barplot(bar1[,N], names = bar1[,PRODUCT_CATEGORY_ID], border = "darkblue", col = "darkblue",  density = 20, 
        ylim = c(0, max(dmef_small[, .N, by = PRODUCT_CATEGORY_ID][,N])))
par(new=TRUE)
barplot(bar2[,N], names = bar2[,PRODUCT_CATEGORY_ID], border = "red", col = "red", density = 20, 
        ylim = c(0,max(dmef_small[, .N, by = PRODUCT_CATEGORY_ID][,N]))) 
legend("top", legend = c("Returned", "Not Returned"), fill = c("darkblue", "red"))</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /><!-- --></a>
</div>
</div>
</div>
<p>Perhaps the numbers are to large to actually get a better picture of proportion. Let's try a stacked bar plot, which also happens to be easier. We'll start by merging the datasets</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">bar <- bar1[,.(bar1[,N], bar2[,N])]

#Next, we'll convert it to a matrix and invert it, and just insert it into the barplot function

bar <- as.matrix(t(bar))
barplot(bar, col=c("darkblue","red"), ylim = c(0, max(dmef_small[, .N, by = PRODUCT_CATEGORY_ID][,N])))
legend("top", legend = c("Returned", "Not Returned"), fill = c("darkblue", "red"))</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /><!-- --></a>
</div>
</div>
</div>
<p>This all looks nice and stuff, but let's try to think what this chart means. Each barplot represents the distribution of returned and non-returned goods respectively. For example, we can see that products C, E, P and T were by far the most popular products based on volume of sales. However, take note of the small blue bars representing the number of returned goods for that product category. Although T has a marginally higher sales volume, C has a larger number of returned goods!</p>
<p>Let's break that information further into a more easily understandable format, and find out the percentage of goods returned for each product category.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Percentage of good returned in each product category
perc.returned.by.cat <- dmef_small[order(PRODUCT_CATEGORY_ID), .(Percentage.Returned=.SD[RETN_QTY>0, .N]/.N*100), by=PRODUCT_CATEGORY_ID]

#Plotting
barplot(perc.returned.by.cat[, Percentage.Returned], 
        names=perc.returned.by.cat[, PRODUCT_CATEGORY_ID],
        main = "Percentage of orders returned by category")</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /><!-- --></a>
</div>
</div>
</div>
<p>Not surprisingly based on the previous graph, we can see that product category C has the highest percentage of returns. However, another category we may have missed earlier is O, which is almost as high as C! Looking back, this would be because the overall sales volume of O was so low.</p>
<h2>Regression</h2>
<p>For this part, we'll be using a new dataset called mtcars. It's available in R's built-in base package. Retrieve it using the <code>data(mtcars)</code> and convert it to a <code>data.table</code>.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Importing the data
data(mtcars)

library(data.table)
mtcars <- as.data.table(mtcars)

# Find out more about this dataset
?mtcars</code></pre>
<button class="message R toggle btn btn-xs btn-info">
<span class="glyphicon glyphicon-chevron-down"></span> R message
</button>
<pre style=""><code class="message r">## starting httpd help server ...
</code></pre>
<button class="message R toggle btn btn-xs btn-info">
<span class="glyphicon glyphicon-chevron-down"></span> R message
</button>
<pre style=""><code class="message r">##  done
</code></pre>
</div>
<p>Using a multiple linear regression model, we want to investigate the fuel efficiency of cars by looking at their mpg (miles per gallon) rating. Let's see how each factor affects the mpg using the built in regression function in R.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Fit the model
fit <- lm(mpg ~ ., data = mtcars)
summary(fit)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
## Call:
## lm(formula = mpg ~ ., data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.4506 -1.6044 -0.1196  1.2193  4.6271 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(>|t|)  
## (Intercept) 12.30337   18.71788   0.657   0.5181  
## cyl         -0.11144    1.04502  -0.107   0.9161  
## disp         0.01334    0.01786   0.747   0.4635  
## hp          -0.02148    0.02177  -0.987   0.3350  
## drat         0.78711    1.63537   0.481   0.6353  
## wt          -3.71530    1.89441  -1.961   0.0633 .
## qsec         0.82104    0.73084   1.123   0.2739  
## vs           0.31776    2.10451   0.151   0.8814  
## am           2.52023    2.05665   1.225   0.2340  
## gear         0.65541    1.49326   0.439   0.6652  
## carb        -0.19942    0.82875  -0.241   0.8122  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 2.65 on 21 degrees of freedom
## Multiple R-squared:  0.869,  Adjusted R-squared:  0.8066 
## F-statistic: 13.93 on 10 and 21 DF,  p-value: 3.793e-07
</code></pre>
</div>
<p>By including all the variables, we get a decent model with an adjusted R-squared of 0.8066. However, we note that the p-values are all rather high. This indicates that the model can be improved by removing some of these regressors.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Removing the regressor with the highest p-value
fit_no_cyl <- lm(mpg ~ . - cyl, data = mtcars)
summary(fit_no_cyl)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
## Call:
## lm(formula = mpg ~ . - cyl, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.4286 -1.5908 -0.0412  1.2120  4.5961 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(>|t|)  
## (Intercept) 10.96007   13.53030   0.810   0.4266  
## disp         0.01283    0.01682   0.763   0.4538  
## hp          -0.02191    0.02091  -1.048   0.3062  
## drat         0.83520    1.53625   0.544   0.5921  
## wt          -3.69251    1.83954  -2.007   0.0572 .
## qsec         0.84244    0.68678   1.227   0.2329  
## vs           0.38975    1.94800   0.200   0.8433  
## am           2.57743    1.94035   1.328   0.1977  
## gear         0.71155    1.36562   0.521   0.6075  
## carb        -0.21958    0.78856  -0.278   0.7833  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 2.59 on 22 degrees of freedom
## Multiple R-squared:  0.8689, Adjusted R-squared:  0.8153 
## F-statistic: 16.21 on 9 and 22 DF,  p-value: 9.031e-08
</code></pre>
</div>
<p>Note the improvement in adjusted R-squared. We repeat this until all our regressors have p-values below 0.05.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">fit_improved <- lm(mpg ~ wt + qsec + am, data = mtcars)
summary(fit_improved)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
## Call:
## lm(formula = mpg ~ wt + qsec + am, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.4811 -1.5555 -0.7257  1.4110  4.6610 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(>|t|)    
## (Intercept)   9.6178     6.9596   1.382 0.177915    
## wt           -3.9165     0.7112  -5.507 6.95e-06 ***
## qsec          1.2259     0.2887   4.247 0.000216 ***
## am            2.9358     1.4109   2.081 0.046716 *  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 2.459 on 28 degrees of freedom
## Multiple R-squared:  0.8497, Adjusted R-squared:  0.8336 
## F-statistic: 52.75 on 3 and 28 DF,  p-value: 1.21e-11
</code></pre>
</div>
<p>This process can actually be automated using the stepAIC function in the MASS package.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library(MASS)
stepAIC(fit)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## Start:  AIC=70.9
## mpg ~ cyl + disp + hp + drat + wt + qsec + vs + am + gear + carb
## 
##        Df Sum of Sq    RSS    AIC
## - cyl   1    0.0799 147.57 68.915
## - vs    1    0.1601 147.66 68.932
## - carb  1    0.4067 147.90 68.986
## - gear  1    1.3531 148.85 69.190
## - drat  1    1.6270 149.12 69.249
## - disp  1    3.9167 151.41 69.736
## - hp    1    6.8399 154.33 70.348
## - qsec  1    8.8641 156.36 70.765
## <none>              147.49 70.898
## - am    1   10.5467 158.04 71.108
## - wt    1   27.0144 174.51 74.280
## 
## Step:  AIC=68.92
## mpg ~ disp + hp + drat + wt + qsec + vs + am + gear + carb
## 
##        Df Sum of Sq    RSS    AIC
## - vs    1    0.2685 147.84 66.973
## - carb  1    0.5201 148.09 67.028
## - gear  1    1.8211 149.40 67.308
## - drat  1    1.9826 149.56 67.342
## - disp  1    3.9009 151.47 67.750
## - hp    1    7.3632 154.94 68.473
## <none>              147.57 68.915
## - qsec  1   10.0933 157.67 69.032
## - am    1   11.8359 159.41 69.384
## - wt    1   27.0280 174.60 72.297
## 
## Step:  AIC=66.97
## mpg ~ disp + hp + drat + wt + qsec + am + gear + carb
## 
##        Df Sum of Sq    RSS    AIC
## - carb  1    0.6855 148.53 65.121
## - gear  1    2.1437 149.99 65.434
## - drat  1    2.2139 150.06 65.449
## - disp  1    3.6467 151.49 65.753
## - hp    1    7.1060 154.95 66.475
## <none>              147.84 66.973
## - am    1   11.5694 159.41 67.384
## - qsec  1   15.6830 163.53 68.200
## - wt    1   27.3799 175.22 70.410
## 
## Step:  AIC=65.12
## mpg ~ disp + hp + drat + wt + qsec + am + gear
## 
##        Df Sum of Sq    RSS    AIC
## - gear  1     1.565 150.09 63.457
## - drat  1     1.932 150.46 63.535
## <none>              148.53 65.121
## - disp  1    10.110 158.64 65.229
## - am    1    12.323 160.85 65.672
## - hp    1    14.826 163.35 66.166
## - qsec  1    26.408 174.94 68.358
## - wt    1    69.127 217.66 75.350
## 
## Step:  AIC=63.46
## mpg ~ disp + hp + drat + wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## - drat  1     3.345 153.44 62.162
## - disp  1     8.545 158.64 63.229
## <none>              150.09 63.457
## - hp    1    13.285 163.38 64.171
## - am    1    20.036 170.13 65.466
## - qsec  1    25.574 175.67 66.491
## - wt    1    67.572 217.66 73.351
## 
## Step:  AIC=62.16
## mpg ~ disp + hp + wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## - disp  1     6.629 160.07 61.515
## <none>              153.44 62.162
## - hp    1    12.572 166.01 62.682
## - qsec  1    26.470 179.91 65.255
## - am    1    32.198 185.63 66.258
## - wt    1    69.043 222.48 72.051
## 
## Step:  AIC=61.52
## mpg ~ hp + wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## - hp    1     9.219 169.29 61.307
## <none>              160.07 61.515
## - qsec  1    20.225 180.29 63.323
## - am    1    25.993 186.06 64.331
## - wt    1    78.494 238.56 72.284
## 
## Step:  AIC=61.31
## mpg ~ wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## <none>              169.29 61.307
## - am    1    26.178 195.46 63.908
## - qsec  1   109.034 278.32 75.217
## - wt    1   183.347 352.63 82.790
</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
## Call:
## lm(formula = mpg ~ wt + qsec + am, data = mtcars)
## 
## Coefficients:
## (Intercept)           wt         qsec           am  
##       9.618       -3.917        1.226        2.936
</code></pre>
</div>
<p>However, there are actually better models that you can obtain by applying some simple transformations. For example, let's take a look at the relationship between mpg and hp.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">plot(mtcars[, mpg], mtcars[, hp])</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>We can see there isn't a very distinct linear relationship, which can hurt our linear regression model. So let's apply a basic log transformation.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">plot(mtcars[, mpg], log(mtcars[, hp]))</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
</div>
<p>And that looks significantly better. Let's try this new adjusted hp in this regression model.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">fit_transformed <- lm(mpg ~ . - hp + log(hp), data=mtcars)
stepAIC(fit_transformed)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## Start:  AIC=67.15
## mpg ~ (cyl + disp + hp + drat + wt + qsec + vs + am + gear + 
##     carb) - hp + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - drat     1    0.0231 131.21 65.154
## - cyl      1    0.0508 131.24 65.161
## - vs       1    0.1177 131.31 65.177
## - carb     1    0.3123 131.50 65.225
## - gear     1    3.4982 134.69 65.991
## - qsec     1    4.0112 135.20 66.112
## - disp     1    4.9119 136.10 66.325
## - am       1    6.4492 137.64 66.684
## <none>                 131.19 67.149
## - log(hp)  1   23.1462 154.33 70.348
## - wt       1   24.1001 155.29 70.546
## 
## Step:  AIC=65.15
## mpg ~ cyl + disp + wt + qsec + vs + am + gear + carb + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - cyl      1    0.0385 131.25 63.164
## - vs       1    0.1225 131.33 63.184
## - carb     1    0.2893 131.50 63.225
## - gear     1    3.6153 134.83 64.024
## - qsec     1    3.9891 135.20 64.113
## - disp     1    5.1573 136.37 64.388
## - am       1    6.6248 137.84 64.731
## <none>                 131.21 65.154
## - wt       1   24.9628 156.17 68.728
## - log(hp)  1   25.3991 156.61 68.817
## 
## Step:  AIC=63.16
## mpg ~ disp + wt + qsec + vs + am + gear + carb + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - vs       1    0.0916 131.34 61.186
## - carb     1    0.2555 131.50 61.226
## - gear     1    3.9854 135.24 62.121
## - qsec     1    4.0148 135.26 62.128
## - disp     1    6.0243 137.27 62.600
## - am       1    6.8252 138.07 62.786
## <none>                 131.25 63.164
## - wt       1   25.5756 156.82 66.861
## - log(hp)  1   27.0102 158.26 67.152
## 
## Step:  AIC=61.19
## mpg ~ disp + wt + qsec + am + gear + carb + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - carb     1    0.2755 131.62 59.253
## - gear     1    4.4333 135.78 60.248
## - disp     1    5.9362 137.28 60.601
## - qsec     1    5.9797 137.32 60.611
## - am       1    6.7341 138.08 60.786
## <none>                 131.34 61.186
## - wt       1   26.4325 157.77 65.054
## - log(hp)  1   26.9244 158.27 65.153
## 
## Step:  AIC=59.25
## mpg ~ disp + wt + qsec + am + gear + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - gear     1     4.371 135.99 58.299
## - am       1     6.812 138.43 58.868
## <none>                 131.62 59.253
## - qsec     1     9.184 140.80 59.411
## - disp     1    10.665 142.28 59.746
## - log(hp)  1    34.290 165.91 64.662
## - wt       1    53.234 184.85 68.122
## 
## Step:  AIC=58.3
## mpg ~ disp + wt + qsec + am + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - disp     1     6.975 142.96 57.899
## - qsec     1     8.633 144.62 58.268
## <none>                 135.99 58.299
## - am       1    20.830 156.82 60.859
## - log(hp)  1    30.021 166.01 62.682
## - wt       1    50.604 186.59 66.422
## 
## Step:  AIC=57.9
## mpg ~ wt + qsec + am + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## - qsec     1     4.350 147.31 56.859
## <none>                 142.96 57.899
## - am       1    15.536 158.50 59.201
## - log(hp)  1    26.322 169.29 61.307
## - wt       1    51.845 194.81 65.801
## 
## Step:  AIC=56.86
## mpg ~ wt + am + log(hp)
## 
##           Df Sum of Sq    RSS    AIC
## <none>                 147.31 56.859
## - am       1    11.297 158.61 57.223
## - wt       1    47.496 194.81 63.801
## - log(hp)  1   131.006 278.32 75.217
</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
## Call:
## lm(formula = mpg ~ wt + am + log(hp), data = mtcars)
## 
## Coefficients:
## (Intercept)           wt           am      log(hp)  
##      58.996       -2.468        1.757       -6.489
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">fit_final <- lm(mpg ~ wt + am + log(hp), data=mtcars)
summary(fit_final)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## 
## Call:
## lm(formula = mpg ~ wt + am + log(hp), data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2.8148 -1.5495 -0.4402  1.1327  4.7638 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(>|t|)    
## (Intercept)  58.9957     4.8970  12.047 1.36e-12 ***
## wt           -2.4681     0.8215  -3.005  0.00555 ** 
## am            1.7565     1.1987   1.465  0.15397    
## log(hp)      -6.4888     1.3004  -4.990 2.85e-05 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 2.294 on 28 degrees of freedom
## Multiple R-squared:  0.8692, Adjusted R-squared:  0.8552 
## F-statistic: 62.01 on 3 and 28 DF,  p-value: 1.747e-12
</code></pre>
</div>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Regression Assumptions
plot(fit_final)</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" /></a>
</div>
</div>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Check for multi-collinearity
# Anything below 10 is okay
# vif(fit_final)</code></pre>
</div>
<p>---TODO---</p>
<h2>Appendix</h2>
<h3>Stats to brush up on</h3>
<h3>Helpful shortcuts in RStudio</h3>
<h3>Other functions to check out</h3>
---TODO---
</div>
</div>
<div class="navbar navbar-fixed-bottom navbar-inverse">
<div class="container">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
<span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
</button>
</div>
<div id="bottom-navbar" class="navbar-collapse collapse navbar-responsive-collapse">
<ul class="nav navbar-nav navbar-right">
<li class="nav">
<p class="navbar-text">
Toggle
</p>
</li>
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Code <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">
Languages
</li>
<li class="active">
<a href="#" class="toggle-global source R" type="source.R">R</a>
</li>
<li>
<a href="#" type="all-source" class="toggle-global">All</a>
</li>
</ul>
</li>
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Output <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">
Type
</li>
<li class="active">
<a href="#" class="toggle-global output" type="output">output</a>
</li>
<li class="active">
<a href="#" class="toggle-global warning" type="warning">warning</a>
</li>
<li class="active">
<a href="#" class="toggle-global message" type="message">message</a>
</li>
<li>
<a href="#" type="all-output" class="toggle-global">All</a>
</li>
</ul>
</li>
<li class="active">
<a href="#" type="figure" class="toggle-global">Figures</a>
</li>
</ul>
<ul class="nav navbar-nav navbar-left">
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Bootstrap theme <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="theme-switch" title="Default" href="#">Default</a>
</li>
<li>
<a class="theme-switch" title="Amelia" href="#">Amelia</a>
</li>
<li>
<a class="theme-switch" title="Cerulean" href="#">Cerulean</a>
</li>
<li>
<a class="theme-switch" title="Cosmo" href="#">Cosmo</a>
</li>
<li>
<a class="theme-switch" title="Cyborg" href="#">Cyborg</a>
</li>
<li>
<a class="theme-switch" title="Journal" href="#">Journal</a>
</li>
<li>
<a class="theme-switch" title="Flatly" href="#">Flatly</a>
</li>
<li>
<a class="theme-switch" title="Readable" href="#">Readable</a>
</li>
<li>
<a class="theme-switch" title="Simplex" href="#">Simplex</a>
</li>
<li>
<a class="theme-switch" title="Slate" href="#">Slate</a>
</li>
<li>
<a class="theme-switch" title="Spacelab" href="#">Spacelab</a>
</li>
<li class="active">
<a class="theme-switch" title="United" href="#">United</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" title="Default" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/amelia/bootstrap.min.css" title="Amelia" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cerulean/bootstrap.min.css" title="Cerulean" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cosmo/bootstrap.min.css" title="Cosmo" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cyborg/bootstrap.min.css" title="Cyborg" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/journal/bootstrap.min.css" title="Journal" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/flatly/bootstrap.min.css" title="Flatly" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/readable/bootstrap.min.css" title="Readable" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/simplex/bootstrap.min.css" title="Simplex" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/slate/bootstrap.min.css" title="Slate" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" title="Spacelab" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/united/bootstrap.min.css" title="United" media="screen"></link>
</div>
<div id="push">

</div>
<div id="footer">
<div class="container">
<p class="text-muted" id="credit">
Styled with <a href="https://github.com/jimhester/knitrBootstrap">knitrBootstrap</a>
</p>
</div>
</div>
<link rel="stylesheet" id="theme" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/united/bootstrap.min.css" media="screen"></link><link rel="stylesheet" id="highlight" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/sunburst.min.css" media="screen"></link>
</div>
</body>
</html>
